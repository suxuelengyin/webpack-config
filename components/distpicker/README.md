# 地区选择器

## 引入文件

需要引入 css 和 js 文件，这会在 `window` 上注册一个名为 `DistPicker` 的构造函数。

## 使用

实例化构造函数就会在底部弹出一个地区选择框。这需要你传入必要的参数。

## API

构造函数接收一个对象，该对象需要包含必要的参数：

```js
new DistPicker({
    nameKey: "name", //返回对象指定的键名
    dataEventsList: [] //异步事件列表
})
```

### nameKey

你指定的数据数组，如果每一项是字符串，则该值会被直接当做数据展示列表中的文本值；如果是对象，会寻找你指定的键值作为文本值。该参数指定了该键名。

### dataEventsList

数据事件列表。指定每一步应该如何获得数据，每一项都是一个函数，返回值是数据列表。**最后一项将是确认操作执行的函数，不必返回数据列表，你可以做一些展示操作。**  

1. 首次展示没有任何参数，第一个函数不接收任何参数。

2. 其他的都接收两个参数，一个是选中文本值数据，一个是上一个数据获取函数的返回值。

每个函数应当是这样的结构：`(val, preData)=>[]||Promise`。你可以返回一个数据数组，也可以返回一个异步的 `Promise`，`Promise`的`resolve`应当是一个数据数组。

> 建议每一个数据获取函数都定义为箭头函数，以消除不必要的 `this` 混乱。
